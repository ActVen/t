#!/usr/bin/env ruby

require 't'

begin
  T::CLI.start(ARGV)
rescue Twitter::Error::Unauthorized => error
  $stderr.puts error.message
  $stderr.puts
  $stderr.puts "Run `#{$0} authorize --consumer-key=CONSUMER_KEY --consumer-secret=CONSUMER_SECRET` to authorize."
  exit 1
rescue Twitter::Error::Forbidden, Twitter::Error::NotFound => error
  $stderr.puts error.message
rescue Interrupt
  $stderr.puts "Quitting..."
  exit 1
end
